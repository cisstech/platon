"use strict";(self.webpackChunkhome=self.webpackChunkhome||[]).push([[370],{5744:(L,p,c)=>{c.r(p),c.d(p,{BindedBubblesModule:()=>E});var d=c(2221),C=c(46),m=c(1016),v=c(821),b=c(7270),e=c(7788),P=c(5966),k=c(3547),_=c(6359),M=c(6610),l=c(9205);function s(h,i){if(1&h){const t=e.RV6();e.qex(0),e.j41(1,"div",4)(2,"button",5),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.updateClickedList(r))})("animationend",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.onAnimationEnd(r))}),e.j41(3,"span"),e.EFF(4),e.k0s()()(),e.bVm()}if(2&h){const t=i.$implicit;e.R7$(2),e.AVh("button-animation",t.state)("checked","checked"===t.state)("unchecked","unchecked"===t.state)("error","error"===t.state),e.R7$(2),e.JRh(t.content)}}function o(h,i){if(1&h&&(e.j41(0,"div",2),e.DNE(1,s,5,9,"ng-container",3),e.k0s()),2&h){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.shuffledList)}}function u(h,i){if(1&h){const t=e.RV6();e.qex(0),e.j41(1,"div",4)(2,"button",8),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.updateClickedList(r))})("animationend",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.onAnimationEnd(r))}),e.j41(3,"span"),e.EFF(4),e.k0s()()(),e.bVm()}if(2&h){const t=i.$implicit,n=e.XpG(2);e.R7$(2),e.xc7("animation-duration","achieved"===t.state?n.state.timeout+"ms":""),e.AVh("checked","checked"===t.state)("unchecked","unchecked"===t.state)("error","error"===t.state)("disabled","disabled"===t.state)("achieved","achieved"===t.state),e.Y8G("disabled","disabled"===t.state),e.R7$(2),e.JRh(t.content)}}function f(h,i){if(1&h){const t=e.RV6();e.qex(0),e.j41(1,"div",4)(2,"button",8),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.updateClickedList(r))})("animationend",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.onAnimationEnd(r))}),e.j41(3,"span"),e.EFF(4),e.k0s()()(),e.bVm()}if(2&h){const t=i.$implicit,n=e.XpG(2);e.R7$(2),e.xc7("animation-duration","achieved"===t.state?n.state.timeout+"ms":""),e.AVh("checked","checked"===t.state)("unchecked","unchecked"===t.state)("error","error"===t.state)("disabled","disabled"===t.state)("achieved","achieved"===t.state),e.Y8G("disabled","disabled"===t.state),e.R7$(2),e.JRh(t.content)}}function g(h,i){if(1&h&&(e.j41(0,"div",2)(1,"div",6)(2,"div",7),e.DNE(3,u,5,14,"ng-container",3),e.k0s(),e.j41(4,"div",7),e.DNE(5,f,5,14,"ng-container",3),e.k0s()()()),2&h){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",t.list1),e.R7$(2),e.Y8G("ngForOf",t.list2)}}let B=class x{constructor(i){this.injector=i,this.stateChange=new e.bkB,this.numberPairToShow=3,this.shuffledList=[],this.list1=[],this.list2=[],this.waitingChoice=[],this.clickedList=[],this.achieveList=[],this.webComponentService=i.get(_.h)}ngOnInit(){let i=0;this.numberPairToShow=this.state.numberPairToShow,this.state.items.forEach(t=>{t.item1.id=i+++"",t.item1.state="unchecked",t.item2.id=i+++"",t.item2.state="unchecked"}),this.state.isFilled=!1,this.constructShuffleList()}onChangeState(){Array.isArray(this.state.items)||(this.state.items=[]),this.state.numberPairToShow!=this.numberPairToShow&&(this.numberPairToShow=this.state.numberPairToShow,this.shuffledList=[],this.list1=[],this.list2=[],this.waitingChoice=[],this.clickedList=[],this.constructShuffleList())}updateClickedList(i){if("unchecked"===i.state?(i.state="checked",this.clickedList.push(i)):"checked"===i.state&&(this.clickedList.find(t=>t.id===i.id).state="unchecked",this.clickedList=this.clickedList.filter(t=>t.id!==i.id)),this.clickedList.length>2){const t=this.clickedList.shift();void 0!==t&&(t.state="unchecked")}this.achievePair()}achievePair(){if(2===this.clickedList.length){const i=this.generatePair(this.clickedList[0],this.clickedList[1]),t=this.generatePair(this.clickedList[1],this.clickedList[0]);let n,r=!0;for(const a of this.state.items)if((a.item1.id===i.item1.id||t.item1.id===a.item1.id)&&(r=!r),a.item1.id===i.item1.id&&a.item2.id===i.item2.id||a.item1.id===t.item1.id&&a.item2.id===t.item2.id){n=a;break}if(n)this.clearClickedList(!1),this.handleAchievedPair(n),this.autoValidate();else if(r){const a=this.clickedList.shift();void 0!==a&&(a.state="unchecked")}else this.state.nbError++,this.state.errors.push(i),this.clearClickedList(!0);this.list1=this.list1.slice(),this.list2=this.list2.slice()}}generatePair(i,t){return{item1:{...i},item2:{...t}}}handleAchievedPair(i){switch(this.achieveList.push(i),this.state.items.forEach(t=>{t.item1.id===i.item1.id&&t.item2.id===i.item2.id&&(t.item1.state="achieved",t.item2.state="achieved")}),this.state.mode){case"shuffle":break;case"ordered":this.handleOrderedAchievedPair(i)}}handleOrderedAchievedPair(i){const t=this.list1.findIndex(O=>O.id===i.item1.id),n=this.list2.findIndex(O=>O.id===i.item2.id);this.list1[t].state="achieved",this.list2[n].state="achieved";const r=this.list1.concat(this.list2);let a;do{a=this.getRandomPairThatIsNotInTheList(r)}while(void 0!==this.waitingChoice.find(O=>O.pair.item1.id===a?.item1.id));if(null==a)return this.list1[t].state="disabled",void(this.list2[n].state="disabled");this.waitingChoice.push({index1:t,index2:n,pair:a}),this.waitingChoice.length>=2?(clearTimeout(this.timeoutID),this.fillOrdered(),this.timeoutID=void 0):this.timeoutID=setTimeout(()=>{this.timeoutID=void 0,this.fillOrdered()},this.state.timeout)}getRandomPairThatIsNotInTheList(i){let t=0;if(this.state.items.forEach(a=>{"achieved"!==a.item1.state&&"achieved"!==a.item2.state&&t++}),t<this.numberPairToShow)return;let n=Math.floor(Math.random()*this.state.items.length),r=this.state.items[n];for(;this.foundPair(i,r);)n=Math.floor(Math.random()*this.state.items.length),r=this.state.items[n];return r}constructShuffleList(){this.state.items.slice(0,this.numberPairToShow).forEach(t=>{this.shuffledList.push(t.item1),this.shuffledList.push(t.item2)}),this.shuffleByMode()}shuffleByMode(){"ordered"===this.state.mode?this.splitListAndShuffle(this.shuffledList):this.shuffledList=this.shuffle(this.shuffledList)}shuffle(i){let n,t=i.length;for(;0!==t;)n=Math.floor(Math.random()*t),t--,[i[t],i[n]]=[i[n],i[t]];return i}splitListAndShuffle(i){this.list1=i.filter((t,n)=>n%2==0),this.list2=i.filter((t,n)=>n%2!=0),this.list1=this.shuffle(this.list1),this.list2=this.shuffle(this.list2)}foundPair(i,t){return"achieved"===t.item1.state||"achieved"===t.item2.state?t.item1:i.find(n=>n.id===t.item1.id||n.id===t.item2.id)}onAnimationEnd(i){"error"===i.state&&(i.state="unchecked")}clearClickedList(i){this.clickedList.forEach(i?t=>t.state="error":t=>t.state="achieved"),this.clickedList=[]}shuffleChoice(){const i=JSON.parse(JSON.stringify(this.waitingChoice));let t=i.map(n=>n.pair.item2);t=this.shuffle(t),i.forEach((n,r)=>{n.pair.item2=t[r]}),this.waitingChoice=i}fillOrdered(){this.shuffleChoice();const i=this.waitingChoice.length;for(let t=0;t<i;t++){const n=this.waitingChoice.pop();this.list1[n.index1]=n.pair.item1,this.list2[n.index2]=n.pair.item2}}autoValidate(){this.achieveList.length===this.state.items.length&&this.webComponentService.submit(this)}static#t=this.\u0275fac=function(t){return new(t||x)(e.rXU(e.zZn))};static#e=this.\u0275cmp=e.VBU({type:x,selectors:[["wc-binded-bubbles"]],inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:3,vars:3,consts:[["class","bubbles-items",4,"ngIf"],[3,"stateChange","state"],[1,"bubbles-items"],[4,"ngFor","ngForOf"],[1,"bubbles-item"],["mat-fab","","extended","",3,"click","animationend"],[1,"bubbles-container"],[1,"column"],["mat-fab","","extended","",3,"click","animationend","disabled"]],template:function(t,n){1&t&&(e.DNE(0,o,2,1,"div",0)(1,g,6,2,"div",0),e.j41(2,"wc-base",1),e.mxI("stateChange",function(a){return e.DH7(n.state,a)||(n.state=a),a}),e.k0s()),2&t&&(e.Y8G("ngIf","shuffle"===n.state.mode),e.R7$(),e.Y8G("ngIf","ordered"===n.state.mode),e.R7$(),e.R50("state",n.state))},dependencies:[M.Sq,M.bT,l.$,d.Sr],styles:["button[_ngcontent-%COMP%]{width:90%}.bubbles-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.bubbles-item[_ngcontent-%COMP%]{box-sizing:border-box;min-width:30%}.column[_ngcontent-%COMP%]{width:30%}.bubbles-items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .bubbles-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px;margin-bottom:8px;background-color:var(--brand-background-components);color:var(--brand-color-primary);font-weight:bolder;border:2px solid var(--brand-color-primary);font-size:medium}.bubbles-items[_ngcontent-%COMP%]   button.checked[_ngcontent-%COMP%], .bubbles-items[_ngcontent-%COMP%]   a.checked[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_changeColorChecked 1s forwards}.bubbles-items[_ngcontent-%COMP%]   button.unchecked[_ngcontent-%COMP%], .bubbles-items[_ngcontent-%COMP%]   a.unchecked[_ngcontent-%COMP%]{background-color:var(--brand-background-components)}.bubbles-items[_ngcontent-%COMP%]   button.error[_ngcontent-%COMP%], .bubbles-items[_ngcontent-%COMP%]   a.error[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_changeColorError .5s forwards}.bubbles-items[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .bubbles-items[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{background-color:var(--brand-background-components);color:#8c8c8c;border:2px solid rgb(140,140,140)}.bubbles-items[_ngcontent-%COMP%]   button.achieved[_ngcontent-%COMP%], .bubbles-items[_ngcontent-%COMP%]   a.achieved[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_changeColorAchieved;animation-fill-mode:forwards}.bubbles-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .bubbles-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translateY(-.1em);border-width:3px}@keyframes _ngcontent-%COMP%_changeColorChecked{0%{background-color:var(--brand-background-components)}to{background-color:#0f0}}@keyframes _ngcontent-%COMP%_changeColorError{0%{background-color:var(--brand-background-components);translate:-3px}50%{background-color:red;translate:3px}to{background-color:var(--brand-background-components);translate:0px}}@keyframes _ngcontent-%COMP%_changeColorAchieved{0%{opacity:1;background-color:#0f0}to{opacity:0}}"]})};B=(0,b.Cg)([(0,P.Er)(k.y),(0,b.Sn)("design:paramtypes",[e.zZn])],B);let E=(()=>{class h{constructor(){this.component=B}static#t=this.\u0275fac=function(n){return new(n||h)};static#e=this.\u0275mod=e.$C({type:h});static#i=this.\u0275inj=e.G2t({imports:[m.W,v.a,d.Hl,C.NgeMarkdownModule]})}return h})()},9205:(L,p,c)=>{c.d(p,{$:()=>k});var d=c(7788),C=c(6359),m=c(5293),v=c(6610),b=c(2919);const e=["container"];function P(_,M){if(1&_&&(d.qex(0),d.nrm(1,"nge-monaco-viewer",1),d.nI1(2,"json"),d.bVm()),2&_){const l=d.XpG();d.R7$(),d.Y8G("code",d.bMT(2,1,l.state))}}let k=(()=>{class _{constructor(l,s){this.api=l,this.elementRef=s,this.stateChange=new d.bkB}ngOnInit(){const l=this.elementRef.nativeElement;l.parentElement?.setAttribute("id",(0,m.A)());const s=l.parentElement?.tagName.toLowerCase();this.definition=this.api.findBySelector(s||""),this.observer=new MutationObserver(o=>{o.forEach(this.onChangeAttributes.bind(this,!1))}),this.observer.observe(l.parentElement,{attributes:!0}),this.onChangeAttributes(!0)}ngOnDestroy(){this.observer?.disconnect()}parseValue(l){return l.trim().match(/^(true$|false$|\d+$|\[|\{)/)?JSON.parse(l):l}onChangeAttributes(l){const u=Array.from(this.elementRef.nativeElement.parentElement.attributes),f=u.find(t=>"cid"===t.name);if(f){const t=sessionStorage.getItem("component-"+f.value);if(t)return void this.stateChange.emit(this.parseValue(t))}const g=u.find(t=>"data-script-id"===t.name);if(g){const t=document.querySelector(`script[id="${g.value}"]`);return void(t&&this.stateChange.emit(this.parseValue(t.textContent||"{}")))}if(u.find(t=>"state"===t.name)&&l)return;const E={},h=this.definition?.schema?.properties||{};let i=!1;for(const t of u)if(t.name in h){i=!0;try{E[t.name]=this.parseValue(t.value)}catch{console.warn(`Invalid value "${t.value}" for ${t.name} attribute`)}}i&&this.stateChange.emit(E)}static#t=this.\u0275fac=function(s){return new(s||_)(d.rXU(C.h),d.rXU(d.aKT))};static#e=this.\u0275cmp=d.VBU({type:_,selectors:[["wc-base"]],viewQuery:function(s,o){if(1&s&&d.GBs(e,5),2&s){let u;d.mGM(u=d.lsd())&&(o.container=u.first)}},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(s,o){1&s&&d.DNE(0,P,3,3,"ng-container",0),2&s&&d.Y8G("ngIf",null==o.state?null:o.state.debug)},dependencies:[v.bT,b.x1,v.TG],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]})}return _})()},1016:(L,p,c)=>{c.d(p,{W:()=>v});var d=c(6610),C=c(2919),m=c(7788);let v=(()=>{class b{static#t=this.\u0275fac=function(k){return new(k||b)};static#e=this.\u0275mod=m.$C({type:b});static#i=this.\u0275inj=m.G2t({imports:[d.MD,C.OZ,d.MD]})}return b})()},5293:(L,p,c)=>{c.d(p,{A:()=>l});const C={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let m;const v=new Uint8Array(16);function b(){if(!m&&(m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(v)}const e=[];for(let s=0;s<256;++s)e.push((s+256).toString(16).slice(1));const l=function M(s,o,u){if(C.randomUUID&&!o&&!s)return C.randomUUID();const f=(s=s||{}).random||(s.rng||b)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,o){u=u||0;for(let g=0;g<16;++g)o[u+g]=f[g];return o}return function P(s,o=0){return e[s[o+0]]+e[s[o+1]]+e[s[o+2]]+e[s[o+3]]+"-"+e[s[o+4]]+e[s[o+5]]+"-"+e[s[o+6]]+e[s[o+7]]+"-"+e[s[o+8]]+e[s[o+9]]+"-"+e[s[o+10]]+e[s[o+11]]+e[s[o+12]]+e[s[o+13]]+e[s[o+14]]+e[s[o+15]]}(f)}}}]);