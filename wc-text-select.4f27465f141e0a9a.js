"use strict";(self.webpackChunkhome=self.webpackChunkhome||[]).push([[32],{327:(y,b,a)=>{a.r(b),a.d(b,{TextSelectModule:()=>u});var i=a(1016),g=a(821),p=a(7270),r=a(7788),C=a(5966),l=a(413),_=a(9205);const m="data-select-index",f="highlight-state";let M=class T{get container(){const t=this.el.nativeElement;let e=t.firstElementChild;return"DIV"!==e.tagName&&(e=document.createElement("div"),t.insertBefore(e,t.firstElementChild)),e.className="cursor-pointer","free"===this.state.mode&&(e.className="cursor-text"),e.className+=this.state.disabled?" disabled":"",e}constructor(t,e,s){this.injector=t,this.el=e,this.cssPipe=s,this.stateChange=new r.bkB}ngOnInit(){this.state.isFilled=!1}onChangeState(){switch(this.state.mode){case"units":this.renderModeUnits();break;case"free":this.renderModeFree();break;default:this.renderModeRegex()}this.highlightSelections()}onMouseUp(t){"free"===this.state.mode?this.createSelectionFromMouse():this.createSelectionFromEvent(t)}createSelectionFromMouse(){const t=(window.getSelection||document.getSelection)(),e=t?.anchorNode?.parentElement,s=t?.focusNode?.parentElement,o=Number.parseInt(e?.getAttribute(m)||"",10),d=Number.parseInt(s?.getAttribute(m)||"",10);if(Number.isNaN(o)||Number.isNaN(d))return;const h=Math.min(o,d),E=Math.max(o,d),x=this.state.selections;for(let c=0;c<x.length;c++){const I=x[c];if("object"==typeof I.position){const v=I.position;if(h>=v[0]&&h<=v[1]||E>=v[0]&&h<=v[1])return void x.splice(c,1)}}this.state.isFilled=!0,this.state.selections.push({position:[h,E]})}createSelectionFromEvent(t){if(!(t.target instanceof HTMLElement))return;const e=this.container;let s=t.target;if(e.isSameNode(s)||!e.contains(s))return;for(;null==s.getAttribute(m);)if(s=s.parentElement,null==s||s.isSameNode(e))return;const o=Number.parseInt(s.getAttribute(m)||"",10);if(!Number.isNaN(o)){let d=0;for(const h of this.state.selections){if(h.position===o)return void this.state.selections.splice(d,1);d++}this.state.isFilled=!0,this.state.selections.push({position:o})}}renderModeFree(){this.container.innerHTML=this.state.text.trim();let t=0;const e=s=>{if(s.nodeType!==Node.TEXT_NODE)Array.from(s.childNodes).forEach(o=>e(o));else{const o=document.createElement("span");for(const d of s.textContent){if("\n"===d)continue;const h=document.createElement("span");h.innerText=d,h.setAttribute(m,(t++).toString()),o.appendChild(h)}s.parentElement?.replaceChild(o,s)}};e(this.container)}renderModeUnits(){let t=0;this.container.innerHTML=this.state.text.replace(/\{([^}]+?)\}/gm,(e,s)=>`<span ${m}="${t++}">${s}</span>`)}renderModeRegex(){let t=0;this.container.innerHTML=this.state.text.trim().replace(new RegExp(this.state.regex||"","gm"),e=>`<span ${m}="${t++}">${e}</span>`)}highlightRange(t,e,s){const o=this.container,d=[];for(let h=t;h<=e;h++){const E=o.querySelector(`[${m}="${h}"]`);E&&(E.className=s||f,d.push(E.innerHTML))}return d.join("")}highlightSelections(){const t=this.container;t.querySelectorAll(`[${m}]`).forEach(e=>{e.className=""}),this.state.selections.forEach(e=>{const s=this.cssPipe.transform(e.css,"class");if("number"==typeof e.position){const o=t.querySelector(`[${m}="${e.position}"]`);o&&(o.className=s||f,e.content!==o.textContent&&(e.content=o.textContent))}else{const o=this.highlightRange(e.position[0],e.position[1],s);e.content!==o&&(e.content=o)}})}static#t=this.\u0275fac=function(e){return new(e||T)(r.rXU(r.zZn),r.rXU(r.aKT),r.rXU(g.S))};static#e=this.\u0275cmp=r.VBU({type:T,selectors:[["wc-text-select"]],hostBindings:function(e,s){1&e&&r.bIt("mouseup",function(d){return s.onMouseUp(d)})},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[3,"stateChange","state"]],template:function(e,s){1&e&&(r.j41(0,"wc-base",0),r.mxI("stateChange",function(d){return r.DH7(s.state,d)||(s.state=d),d}),r.k0s()),2&e&&r.R50("state",s.state)},dependencies:[_.$],styles:["[_nghost-%COMP%]  .cursor-pointer{cursor:pointer}[_nghost-%COMP%]  .cursor-text{cursor:text}[_nghost-%COMP%]  .highlight-state{border-top:1px solid transparent;border-bottom:1px solid transparent;color:var(--brand-color-primary);background-color:#cce5ff;border-color:#b8daff}[_nghost-%COMP%]  .error-state, [_nghost-%COMP%]  .warning-state, [_nghost-%COMP%]  .success-state{border:unset;border-radius:unset}[_nghost-%COMP%]  .error-state{text-decoration:line-through}[_nghost-%COMP%]  .disabled, [_nghost-%COMP%]  .disabled *{color:gray;-webkit-user-select:none;user-select:none;pointer-events:none}"],changeDetection:0})};M=(0,p.Cg)([(0,C.Er)(l.w),(0,p.Sn)("design:paramtypes",[r.zZn,r.aKT,g.S])],M);let u=(()=>{class n{constructor(){this.component=M}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=r.$C({type:n});static#n=this.\u0275inj=r.G2t({providers:[g.S],imports:[i.W,g.a]})}return n})()},9205:(y,b,a)=>{a.d(b,{$:()=>m});var i=a(7788),g=a(6359),p=a(5293),r=a(6610),C=a(2919);const l=["container"];function _(f,M){if(1&f&&(i.qex(0),i.nrm(1,"nge-monaco-viewer",1),i.nI1(2,"json"),i.bVm()),2&f){const u=i.XpG();i.R7$(),i.Y8G("code",i.bMT(2,1,u.state))}}let m=(()=>{class f{constructor(u,n){this.api=u,this.elementRef=n,this.stateChange=new i.bkB}ngOnInit(){const u=this.elementRef.nativeElement;u.parentElement?.setAttribute("id",(0,p.A)());const n=u.parentElement?.tagName.toLowerCase();this.definition=this.api.findBySelector(n||""),this.observer=new MutationObserver(t=>{t.forEach(this.onChangeAttributes.bind(this,!1))}),this.observer.observe(u.parentElement,{attributes:!0}),this.onChangeAttributes(!0)}ngOnDestroy(){this.observer?.disconnect()}parseValue(u){return u.trim().match(/^(true$|false$|\d+$|\[|\{)/)?JSON.parse(u):u}onChangeAttributes(u){const e=Array.from(this.elementRef.nativeElement.parentElement.attributes),s=e.find(c=>"cid"===c.name);if(s){const c=sessionStorage.getItem("component-"+s.value);if(c)return void this.stateChange.emit(this.parseValue(c))}const o=e.find(c=>"data-script-id"===c.name);if(o){const c=document.querySelector(`script[id="${o.value}"]`);return void(c&&this.stateChange.emit(this.parseValue(c.textContent||"{}")))}if(e.find(c=>"state"===c.name)&&u)return;const h={},E=this.definition?.schema?.properties||{};let x=!1;for(const c of e)if(c.name in E){x=!0;try{h[c.name]=this.parseValue(c.value)}catch{console.warn(`Invalid value "${c.value}" for ${c.name} attribute`)}}x&&this.stateChange.emit(h)}static#t=this.\u0275fac=function(n){return new(n||f)(i.rXU(g.h),i.rXU(i.aKT))};static#e=this.\u0275cmp=i.VBU({type:f,selectors:[["wc-base"]],viewQuery:function(n,t){if(1&n&&i.GBs(l,5),2&n){let e;i.mGM(e=i.lsd())&&(t.container=e.first)}},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(n,t){1&n&&i.DNE(0,_,3,3,"ng-container",0),2&n&&i.Y8G("ngIf",null==t.state?null:t.state.debug)},dependencies:[r.bT,C.x1,r.TG],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]})}return f})()},1016:(y,b,a)=>{a.d(b,{W:()=>r});var i=a(6610),g=a(2919),p=a(7788);let r=(()=>{class C{static#t=this.\u0275fac=function(m){return new(m||C)};static#e=this.\u0275mod=p.$C({type:C});static#n=this.\u0275inj=p.G2t({imports:[i.MD,g.OZ,i.MD]})}return C})()},5293:(y,b,a)=>{a.d(b,{A:()=>u});const g={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let p;const r=new Uint8Array(16);function C(){if(!p&&(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(r)}const l=[];for(let n=0;n<256;++n)l.push((n+256).toString(16).slice(1));const u=function M(n,t,e){if(g.randomUUID&&!t&&!n)return g.randomUUID();const s=(n=n||{}).random||(n.rng||C)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){e=e||0;for(let o=0;o<16;++o)t[e+o]=s[o];return t}return function _(n,t=0){return l[n[t+0]]+l[n[t+1]]+l[n[t+2]]+l[n[t+3]]+"-"+l[n[t+4]]+l[n[t+5]]+"-"+l[n[t+6]]+l[n[t+7]]+"-"+l[n[t+8]]+l[n[t+9]]+"-"+l[n[t+10]]+l[n[t+11]]+l[n[t+12]]+l[n[t+13]]+l[n[t+14]]+l[n[t+15]]}(s)}}}]);