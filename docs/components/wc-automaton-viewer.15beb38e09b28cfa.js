"use strict";(self.webpackChunkcomponents=self.webpackChunkcomponents||[]).push([[157],{2996:(_,h,e)=>{e.d(h,{H:()=>p});var t=e(4966),d=e(4266),m=e(6733),n=e(9986);const u=["container"];function g(r,f){if(1&r&&(t.ynx(0),t._UZ(1,"nge-monaco-viewer",1),t.ALo(2,"json"),t.BQk()),2&r){const s=t.oxw();t.xp6(1),t.Q6J("code",t.lcZ(2,1,s.state))}}let p=(()=>{class r{constructor(s,o){this.api=s,this.elementRef=o,this.stateChange=new t.vpe}ngOnInit(){const s=this.elementRef.nativeElement,o=s.parentElement?.tagName.toLowerCase();this.definition=this.api.findBySelector(o||""),this.observer=new MutationObserver(a=>{a.forEach(this.onChangeAttributes.bind(this,!1))}),this.observer.observe(s.parentElement,{attributes:!0}),this.onChangeAttributes(!0)}ngOnDestroy(){this.observer?.disconnect()}parseValue(s){return s.trim().match(/^(true$|false$|\d+$|\[|\{)/)?JSON.parse(s):s}onChangeAttributes(s){const i=Array.from(this.elementRef.nativeElement.parentElement.attributes),l=i.find(c=>"cid"===c.name);if(l){const A=document.querySelector(`script[id="${l.value}"]`);return void(A&&this.stateChange.emit(this.parseValue(A.textContent||"{}")))}if(i.find(c=>"state"===c.name)&&s)return;const v={},O=this.definition?.schema?.properties||{};let E=!1;for(const c of i)if(c.name in O){E=!0;try{v[c.name]=this.parseValue(c.value)}catch{console.warn(`Invalid value "${c.value}" for ${c.name} attribute`)}}E&&this.stateChange.emit(v)}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(d.G),t.Y36(t.SBq))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["wc-base"]],viewQuery:function(o,a){if(1&o&&t.Gf(u,5),2&o){let i;t.iGM(i=t.CRH())&&(a.container=i.first)}},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(o,a){1&o&&t.YNc(0,g,3,3,"ng-container",0),2&o&&t.Q6J("ngIf",null==a.state?null:a.state.debug)},dependencies:[m.O5,n.Yu,m.Ts],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]})}return r})()},4104:(_,h,e)=>{e.d(h,{Y:()=>n});var t=e(6733),d=e(9986),m=e(4966);let n=(()=>{class u{static#t=this.\u0275fac=function(r){return new(r||u)};static#e=this.\u0275mod=m.oAB({type:u});static#n=this.\u0275inj=m.cJS({imports:[t.ez,d.vS,t.ez]})}return u})()},9042:(_,h,e)=>{e.r(h),e.d(h,{AutomatonViewerModule:()=>s});var t=e(8934),d=e(4104),m=e(4911),n=e(4966),u=e(6276),g=e(5839),p=e(3596),r=e(2996);let f=class C{constructor(a){this.injector=a}onChangeState(){this.dot=(0,u.jU)((0,u.Jc)(this.state.automaton))}static#t=this.\u0275fac=function(i){return new(i||C)(n.Y36(n.zs3))};static#e=this.\u0275cmp=n.Xpm({type:C,selectors:[["wc-automaton-viewer"]],inputs:{state:"state"},decls:2,vars:2,consts:[[3,"renderDot"],[3,"state","stateChange"]],template:function(i,l){1&i&&(n._UZ(0,"div",0),n.TgZ(1,"wc-base",1),n.NdJ("stateChange",function(v){return l.state=v}),n.qZA()),2&i&&(n.Q6J("renderDot",l.dot),n.xp6(1),n.Q6J("state",l.state))},dependencies:[r.H,t.Y],styles:["div[_ngcontent-%COMP%]{width:100%;overflow:auto}"],changeDetection:0})};f=(0,m.gn)([(0,g._s)(p.G),(0,m.w6)("design:paramtypes",[n.zs3])],f);let s=(()=>{class o{constructor(){this.component=f}static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275mod=n.oAB({type:o});static#n=this.\u0275inj=n.cJS({imports:[d.Y,t.a]})}return o})()}}]);