(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{3697:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/doc/programing/exercise/workflow",function(){return s(213)}])},213:function(e,n,s){"use strict";s.r(n),s.d(n,{__toc:function(){return t}});var i=s(5893),l=s(2673),a=s(2643),r=s(9013);let t=[{depth:2,value:"Sandboxes",id:"sandboxes"},{depth:3,value:"Sandbox node",id:"sandbox-node"},{depth:3,value:"Sandbox python",id:"sandbox-python"},{depth:2,value:"Construction: Builder",id:"construction-builder"},{depth:2,value:"Affichage: Title, Statement et Form",id:"affichage-title-statement-et-form"},{depth:3,value:"title",id:"title"},{depth:3,value:"statement",id:"statement"},{depth:3,value:"form",id:"form"},{depth:2,value:"\xc9valuation: Grader",id:"\xe9valuation-grader"}];function o(e){let n=Object.assign({h1:"h1",p:"p",ul:"ul",li:"li",code:"code",h2:"h2",h3:"h3",a:"a",pre:"pre",span:"span",strong:"strong"},(0,a.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{children:"Construction, Affichage et \xc9valuation"}),"\n",(0,i.jsx)(n.p,{children:"Le d\xe9roulement d'un exercice sous PLaTon se compose de 3 parties:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["La Construction, \xe0 l'aide d'une cl\xe9 ",(0,i.jsx)(n.code,{children:"builder"})]}),"\n",(0,i.jsxs)(n.li,{children:["L'Affichage, \xe0 l'aide des cl\xe9s ",(0,i.jsx)(n.code,{children:"title"}),", ",(0,i.jsx)(n.code,{children:"statement"}),", et ",(0,i.jsx)(n.code,{children:"form"})]}),"\n",(0,i.jsxs)(n.li,{children:["L'\xc9valuation, \xe0 l'aide d'une cl\xe9 ",(0,i.jsx)(n.code,{children:"grader"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"sandboxes",children:"Sandboxes"}),"\n",(0,i.jsxs)(n.p,{children:["Les exercices sont execut\xe9s dans un environnement isol\xe9 appel\xe9 sandbox. Il existe plusieurs types de sandbox, chacune ayant ses propres caract\xe9ristiques.\nLe choix de la sandbox se fait \xe0 l'aide de la cl\xe9 ",(0,i.jsx)(n.code,{children:"sandbox"})," dans la configuration de l'exercice."]}),"\n",(0,i.jsx)(n.h3,{id:"sandbox-node",children:"Sandbox node"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Syntaxe: ",(0,i.jsx)(n.code,{children:'sandbox = "node"'})]}),"\n",(0,i.jsx)(n.li,{children:"Description: Sandbox permettant d'ex\xe9cuter du code javascript. Cette sandbox est utilis\xe9e par d\xe9faut et utilise l'api de sandboxing de nodejs."}),"\n",(0,i.jsxs)(n.li,{children:["Librairies disponibles: Cette sandbox est pratique pour des exercices simples ne n\xe9cessitant pas d'op\xe9rations complexes ou de librairies syst\xe8me.\nVous avez acc\xe8s \xe0 l'API de base de javascript ainsi que quelques ",(0,i.jsx)(n.a,{href:"https://github.com/cisstech/platon/blob/main/libs/feature/player/server/src/lib/sandboxes/node/node-sandbox-api.ts#L22",children:"fonctions utilitaires"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sandbox-python",children:"Sandbox python"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Syntaxe: ",(0,i.jsx)(n.code,{children:'sandbox = "python"'})]}),"\n",(0,i.jsx)(n.li,{children:"Description: Sandbox permettant d'ex\xe9cuter du code python. Cette sandbox utilise des containers docker pour ex\xe9cuter du code python."}),"\n",(0,i.jsxs)(n.li,{children:["Libraries disponibles: Cette sandbox est plus compl\xe8te que la sandbox node, et vous donne acc\xe8s \xe0 un container Linux avec plusieurs librairies et outils pr\xe9-install\xe9s (python, gcc, java, postgresql...).\nVous pouvez consulter la liste des librairies disponibles ",(0,i.jsx)(n.a,{href:"https://github.com/PremierLangage/sandbox/blob/master/docker/Dockerfile",children:"ici"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"construction-builder",children:"Construction: Builder"}),"\n",(0,i.jsx)(n.p,{children:"Afin de construire des exercices ayant une part d'al\xe9atoire, ou de faciliter la cr\xe9ation de type d'exercices r\xe9utilisables, il peut \xeatre n\xe9cessaire de passer par un script de construction de l'exercice."}),"\n",(0,i.jsxs)(n.p,{children:["Pour cela, il est possible de d\xe9clarer un script python/node (en fonction de la sandbox) dans une cl\xe9 ",(0,i.jsx)(n.code,{children:"builder"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Pour utiliser de l'al\xe9atoire sur les sandboxes python, vous devez utiliser la fonction ",(0,i.jsx)(n.code,{children:"random"})," en l'initialisant avec une graine (seed) automatiquement disponible dans les variables globales du builder."]}),"\n",(0,i.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,i.jsx)(n.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" random"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"random"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"seed"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(seed)"})]})]})}),"\n",(0,i.jsx)(n.h2,{id:"affichage-title-statement-et-form",children:"Affichage: Title, Statement et Form"}),"\n",(0,i.jsxs)(n.p,{children:["Pour afficher un exercice, il est n\xe9cessaire de d\xe9clarer 3 cl\xe9s dans la configuration de l'exercice. La valeur de ces cl\xe9s peut \xeatre du HTML et/ou du ",(0,i.jsx)(n.a,{href:"https://fr.wikipedia.org/wiki/Markdown",children:"Markdown"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Il est possible d'afficher n'importe quelle variable de l'exercice \xe0 l'aide de la syntaxe ",(0,i.jsx)(n.code,{children:"{{ nomvariable }}"})," dans le contenu de ces 3 cl\xe9s.\nSi la variable affich\xe9e est un texte contenant d'autres affichage de variables, le processus de remplacement des variables s'appliquera r\xe9cursivement."]}),"\n",(0,i.jsxs)(n.p,{children:["La plateforme utilise en interne la librairie ",(0,i.jsx)(n.a,{href:"https://mozilla.github.io/nunjucks/",children:"nunjunks"})," pour le rendu des variables. Il vous est donc possible d'utiliser les fonctionnalit\xe9s de cette librairie dans vos exercices\ncomme par exemple les ",(0,i.jsx)(n.a,{href:"https://mozilla.github.io/nunjucks/templating.html#filters",children:"filtres"})," ou les ",(0,i.jsx)(n.a,{href:"https://mozilla.github.io/nunjucks/templating.html#if-expression",children:"expressions"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Pour le rendu du markdown, la plateforme utilise la librairie ",(0,i.jsx)(n.a,{href:"https://cisstech.github.io/nge/docs/nge-markdown/cheatsheet",children:"nge-markdown"})," qui contient quelques extensions suppl\xe9mentaires par rapport au markdown de base comme le support du latex et des onglets."]}),"\n",(0,i.jsx)(n.h3,{id:"title",children:"title"}),"\n",(0,i.jsxs)(n.p,{children:["La cl\xe9 ",(0,i.jsx)(n.code,{children:"title"})," contient le titre de l'exercice. Par exemple :"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"markdown","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"markdown","data-theme":"default",children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"title =="})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"Addition al\xe9atoire"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"=="})})]})}),"\n",(0,i.jsx)(n.h3,{id:"statement",children:"statement"}),"\n",(0,i.jsxs)(n.p,{children:["La cl\xe9 ",(0,i.jsx)(n.code,{children:"statement"})," contient l'\xe9nonc\xe9 de l'exercice. Par exemple :"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"markdown","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"markdown","data-theme":"default",children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"op1 = 10"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"op2 = 20"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:" "}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"text =="})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"Quel est le "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)",fontWeight:"bold"},children:"**r\xe9sultat**"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" de: "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)",fontWeight:"bold"},children:"**{{ op1 }}**"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" + "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)",fontWeight:"bold"},children:"**{{ op2 }}**"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ?"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"=="})})]})}),"\n",(0,i.jsx)(n.p,{children:"A l'affichage, apr\xe8s traitement du markdown, du HTML et des variables, le texte suivant sera affich\xe9:"}),"\n",(0,i.jsxs)(n.p,{children:["Quel est le ",(0,i.jsx)(n.strong,{children:"r\xe9sultat"})," de: ",(0,i.jsx)(n.strong,{children:"10"})," + ",(0,i.jsx)(n.strong,{children:"20"})," ?"]}),"\n",(0,i.jsx)(n.h3,{id:"form",children:"form"}),"\n",(0,i.jsxs)(n.p,{children:["La cl\xe9 ",(0,i.jsx)(n.code,{children:"form"})," contient le formulaire de l'exercice. Par exemple :"]}),"\n",(0,i.jsx)(n.pre,{"data-language":"markdown","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"markdown","data-theme":"default",children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"input = :wc-input-box"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'input.type = "number"'})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'input.placeholder = "Entrez votre r\xe9ponse ici"'})}),"\n",(0,i.jsx)(n.span,{className:"line",children:" "}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"form =="})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{{ input }}"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"=="})})]})}),"\n",(0,i.jsx)(r.UW,{type:"info",children:(0,i.jsxs)(n.p,{children:["La r\xe9cup\xe9ration de la r\xe9ponse de l'\xe9tudiant se fait \xe0 l'aide de variables de types ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/fr/docs/Web/API/Web_components",children:"composants"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"\xe9valuation-grader",children:"\xc9valuation: Grader"}),"\n",(0,i.jsxs)(n.p,{children:["Le grader est le script qui va \xe9valuer la r\xe9ponse de l'\xe9tudiant. Il est possible de d\xe9clarer un script python/node (en fonction de la sandbox) dans une cl\xe9 ",(0,i.jsx)(n.code,{children:"grader"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Ce script \xe0 acc\xe8s \xe0 l'ensemble des variables de l'exercice: celles d\xe9clar\xe9es dans le ple, celles cr\xe9\xe9s par le script de construction, celles modifi\xe9es par l'\xe9tudiant dans le formulaire (les composants) ainsi qu'un objet ",(0,i.jsx)(n.code,{children:"feedback"})," permettant de renvoyer un feedback \xe0 l'\xe9tudiant."]}),"\n",(0,i.jsxs)(n.p,{children:["Cet objet ",(0,i.jsx)(n.code,{children:"feedback"})," contient 2 cl\xe9s:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"grade"}),": La note de l'\xe9tudiant, entre 0 et 1 (-1 si l'exercice est en erreur)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"content"}),": Le message \xe0 afficher \xe0 l'\xe9tudiant (markdown|html)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Vous devez modifier la valeur de ces cl\xe9s pour renvoyer un feedback \xe0 l'\xe9tudiant et lui attribuer une note en fonction de sa r\xe9ponse."})]})}n.default=(0,l.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.a)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)},pageOpts:{filePath:"pages/doc/programing/exercise/workflow.mdx",route:"/doc/programing/exercise/workflow",frontMatter:{title:"Construction, Affichage et \xc9valuation"},title:"Construction, Affichage et \xc9valuation",headings:t},pageNextRoute:"/doc/programing/exercise/workflow"})}},function(e){e.O(0,[673,774,888,179],function(){return e(e.s=3697)}),_N_E=e.O()}]);