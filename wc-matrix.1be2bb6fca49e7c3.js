"use strict";(self.webpackChunkhome=self.webpackChunkhome||[]).push([[767],{4544:(A,x,i)=>{i.r(x),i.d(x,{MatrixModule:()=>k});var l=i(3226),u=i(2994),g=i(393),m=i(9984),_=i(4104),C=i(4048),v=i(8284),f=i(4911),t=i(4966),M=i(5839),z=i(8454),p=i(6733),w=i(2996),y=i(6785);const b=["template"];function O(s,a){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.done(r))})("mouseover",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.hover(r))}),t.qZA(),t.BQk()}if(2&s){const e=a.$implicit,n=t.oxw(2);t.xp6(1),t.ekj("on",n.isOn(e))}}function T(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"div",3),t.TgZ(5,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.close())}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"div",5),t.YNc(9,O,2,2,"ng-container",6),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(3),t.AsE("Choisissez la taille de votre matrice: (",e.rows+1,", ",e.cols+1,")"),t.xp6(6),t.Q6J("ngForOf",e.cells)("ngForTrackBy",e.trackBy)}}let P=(()=>{class s{constructor(e,n){this.overlay=e,this.container=n,this.width=10,this.cells=Array.from({length:this.width*this.width},(o,r)=>r),this.cols=0,this.rows=0,this.resized=new t.vpe}ngOnDestroy(){this.resizer?.dispose()}isOn(e){const n=e%this.width;return Math.floor(e/this.width)<=this.rows&&n<=this.cols}hover(e){this.cols=e%this.width,this.rows=Math.floor(e/this.width)}done(e){this.resized.emit({cols:e%this.width+1,rows:Math.floor(e/this.width)+1}),this.close()}open(e){const{x:n,y:o}=e,r=this.overlay.position().flexibleConnectedTo({x:n,y:o}).withPositions([{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]);this.resizer=this.overlay.create({positionStrategy:r,hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.resizer.attach(new y.UE(this.template,this.container))}close(){this.resizer?.dispose(),this.resizer=void 0}trackBy(e){return e}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(u.aV),t.Y36(t.s_b))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["wc-matrix-resizer"]],viewQuery:function(n,o){if(1&n&&t.Gf(b,5,t.Rgc),2&n){let r;t.iGM(r=t.CRH())&&(o.template=r.first)}},outputs:{resized:"resized"},decls:2,vars:0,consts:[["template",""],[1,"matrix-resizer"],[1,"matrix-resizer-header"],[1,"spacer"],["mat-icon-button","","matTooltip","Annuler",3,"click"],[1,"matrix-resizer-grid"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"matrix-resizer-box",3,"click","mouseover"]],template:function(n,o){1&n&&t.YNc(0,T,10,4,"ng-template",null,0,t.W1O)},dependencies:[p.sg,m.Hw,g.RK],styles:[".matrix-resizer[_ngcontent-%COMP%]{background-color:var(--brand-background-components)}.matrix-resizer-header[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:1;background-color:var(--brand-background-components);width:210px;height:32px;font-size:.8em}.matrix-resizer-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 8px}.matrix-resizer-header[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{height:32px;font-size:1.4em}.matrix-resizer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,20px);grid-template-rows:repeat(10,20px);column-gap:1px;row-gap:1px}.matrix-resizer-box[_ngcontent-%COMP%]{border:1px solid #eee;transition:background-color .5s;cursor:pointer}.matrix-resizer-box[_ngcontent-%COMP%]:hover, .matrix-resizer-box.on[_ngcontent-%COMP%]{background-color:var(--brand-color-primary)}.spacer[_ngcontent-%COMP%]{flex:1}"]})}return s})();function Z(s,a){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",6),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.value=o)}),t.ALo(2,"css"),t.ALo(3,"css"),t.qZA(),t.BQk()}if(2&s){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.xi3(2,4,e.css,"class"))("ngStyle",t.xi3(3,7,e.css,"style"))("disabled",!(!n.state.disabled&&!e.disabled))("ngModel",e.value)}}let d=class h{get styles(){return{"--cols":this.state.cols,"--rows":this.state.rows}}constructor(a){this.injector=a,this.stateChange=new t.vpe}onChangeState(){const{cols:a,rows:e}=this.state;this.state.cells||(this.state.cells=[]);const n=this.state.cells.length,o=a*e;if(n<o)for(let r=n;r<o;r++)this.state.cells.push({value:"0"});else n>o&&(this.state.cells=this.state.cells.slice(0,o))}resize(a){this.state.cols=a.cols,this.state.rows=a.rows}trackBy(a){return a}static#t=this.\u0275fac=function(e){return new(e||h)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["wc-matrix"]],hostVars:2,hostBindings:function(e,n){2&e&&t.Akn(n.styles)},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:8,vars:3,consts:[[1,"matrix"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-icon-button","","nz-tooltip","Redimensionner",3,"click"],[3,"resized"],["resizer",""],[3,"state","stateChange"],["type","text","tabindex","1",3,"ngClass","ngStyle","disabled","ngModel","ngModelChange"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.YNc(1,Z,4,10,"ng-container",1),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(c){t.CHM(o);const F=t.MAs(6);return t.KtG(F.open(c))}),t.TgZ(3,"mat-icon"),t._uU(4,"aspect_ratio"),t.qZA()(),t.TgZ(5,"wc-matrix-resizer",3,4),t.NdJ("resized",function(c){return n.resize(c)}),t.qZA(),t.TgZ(7,"wc-base",5),t.NdJ("stateChange",function(c){return n.state=c}),t.qZA()}2&e&&(t.xp6(1),t.Q6J("ngForOf",n.state.cells)("ngForTrackBy",n.trackBy),t.xp6(6),t.Q6J("state",n.state))},dependencies:[p.mk,p.sg,p.PC,w.H,l.Fj,l.JJ,l.On,m.Hw,C.SY,g.RK,P,v.j],styles:['[_nghost-%COMP%]{--cols: 3;--rows: 3;--row-size: 2em;--col-size: 4em;--gap: .5em}.matrix[_ngcontent-%COMP%]{display:grid;height:calc(var(--row-size) * var(--rows) + var(--gap) * var(--rows) + .2rem);width:calc(var(--col-size) * var(--cols) + var(--gap) * var(--cols) + .2rem);grid-template-rows:repeat(var(--rows),1fr);grid-template-columns:repeat(var(--cols),1fr);column-gap:var(--gap);row-gap:var(--gap);margin:1rem;vertical-align:middle;position:relative}.matrix[_ngcontent-%COMP%]:before, .matrix[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;bottom:-6px;border:1px solid #000;width:6px}.matrix[_ngcontent-%COMP%]:before{left:-12px;border-right:0}.matrix[_ngcontent-%COMP%]:after{right:-12px;border-left:0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;position:relative;width:var(--col-size);height:var(--row-size);border:none;border-radius:4px;text-align:center;border:1px solid #f0f0f0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:none}'],changeDetection:0})};d=(0,f.gn)([(0,M._s)(z.H),(0,f.w6)("design:paramtypes",[t.zs3])],d);let k=(()=>{class s{constructor(){this.component=d}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.oAB({type:s});static#n=this.\u0275inj=t.cJS({imports:[_.Y,v.X,l.u5,u.U8,m.Ps,C.cg,g.ot]})}return s})()}}]);