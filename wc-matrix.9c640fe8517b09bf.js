"use strict";(self.webpackChunkhome=self.webpackChunkhome||[]).push([[265],{376:(z,b,o)=>{o.r(b),o.d(b,{MatrixModule:()=>T});var a=o(7222),f=o(4212),u=o(2221),x=o(6182),p=o(1016),l=o(4047),i=o(821),C=o(7270),t=o(7788),y=o(5966),_=o(705),n=o(6223),s=o(6610),v=o(9205),M=o(6810);const O=["template"];function R(d,m){if(1&d){const e=t.RV6();t.qex(0),t.j41(1,"div",7),t.bIt("click",function(){const c=t.eBV(e).$implicit,h=t.XpG(2);return t.Njj(h.done(c))})("mouseover",function(){const c=t.eBV(e).$implicit,h=t.XpG(2);return t.Njj(h.hover(c))}),t.k0s(),t.bVm()}if(2&d){const e=m.$implicit,r=t.XpG(2);t.R7$(),t.AVh("on",r.isOn(e))}}function D(d,m){if(1&d){const e=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"span"),t.EFF(3),t.k0s(),t.nrm(4,"div",3),t.j41(5,"button",4),t.bIt("click",function(){t.eBV(e);const c=t.XpG();return t.Njj(c.close())}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"div",5),t.DNE(9,R,2,2,"ng-container",6),t.k0s()()}if(2&d){const e=t.XpG();t.R7$(3),t.Lme("Choisissez la taille de votre matrice: (",e.rows+1,", ",e.cols+1,")"),t.R7$(6),t.Y8G("ngForOf",e.cells)("ngForTrackBy",e.trackBy)}}let w=(()=>{class d{constructor(e,r){this.overlay=e,this.container=r,this.width=10,this.cells=Array.from({length:this.width*this.width},(c,h)=>h),this.cols=0,this.rows=0,this.resized=new t.bkB}ngOnDestroy(){this.resizer?.dispose()}isOn(e){const r=e%this.width;return Math.floor(e/this.width)<=this.rows&&r<=this.cols}hover(e){this.cols=e%this.width,this.rows=Math.floor(e/this.width)}done(e){this.resized.emit({cols:e%this.width+1,rows:Math.floor(e/this.width)+1}),this.close()}open(e){const{x:r,y:c}=e,h=this.overlay.position().flexibleConnectedTo({x:r,y:c}).withPositions([{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]);this.resizer=this.overlay.create({positionStrategy:h,hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.resizer.attach(new M.VA(this.template,this.container))}close(){this.resizer?.dispose(),this.resizer=void 0}trackBy(e){return e}static#t=this.\u0275fac=function(r){return new(r||d)(t.rXU(f.hJ),t.rXU(t.c1b))};static#e=this.\u0275cmp=t.VBU({type:d,selectors:[["wc-matrix-resizer"]],viewQuery:function(r,c){if(1&r&&t.GBs(O,5,t.C4Q),2&r){let h;t.mGM(h=t.lsd())&&(c.template=h.first)}},outputs:{resized:"resized"},decls:2,vars:0,consts:[["template",""],[1,"matrix-resizer"],[1,"matrix-resizer-header"],[1,"spacer"],["mat-icon-button","","matTooltip","Annuler",3,"click"],[1,"matrix-resizer-grid"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"matrix-resizer-box",3,"click","mouseover"]],template:function(r,c){1&r&&t.DNE(0,D,10,4,"ng-template",null,0,t.C5r)},dependencies:[s.Sq,x.An,u.iY],styles:[".matrix-resizer[_ngcontent-%COMP%]{background-color:var(--brand-background-components)}.matrix-resizer-header[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:1;background-color:var(--brand-background-components);width:210px;height:32px;font-size:.8em}.matrix-resizer-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 8px}.matrix-resizer-header[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{height:32px;font-size:1.4em}.matrix-resizer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,20px);grid-template-rows:repeat(10,20px);column-gap:1px;row-gap:1px}.matrix-resizer-box[_ngcontent-%COMP%]{border:1px solid #eee;transition:background-color .5s;cursor:pointer}.matrix-resizer-box[_ngcontent-%COMP%]:hover, .matrix-resizer-box.on[_ngcontent-%COMP%]{background-color:var(--brand-color-primary)}.spacer[_ngcontent-%COMP%]{flex:1}"]})}return d})();function E(d,m){if(1&d){const e=t.RV6();t.qex(0),t.j41(1,"input",6),t.nI1(2,"css"),t.nI1(3,"css"),t.mxI("ngModelChange",function(c){const h=t.eBV(e).$implicit;return t.DH7(h.value,c)||(h.value=c),t.Njj(c)}),t.bIt("ngModelChange",function(){t.eBV(e);const c=t.XpG();return t.Njj(c.valueChange())}),t.k0s(),t.bVm()}if(2&d){const e=m.$implicit,r=t.XpG();t.R7$(),t.Y8G("ngClass",t.i5U(2,4,e.css,"class"))("ngStyle",t.i5U(3,7,e.css,"style"))("disabled",!(!r.state.disabled&&!e.disabled)),t.R50("ngModel",e.value)}}function g(d,m){if(1&d){const e=t.RV6();t.j41(0,"button",7),t.bIt("click",function(c){t.eBV(e),t.XpG();const h=t.sdS(4);return t.Njj(h.open(c))}),t.j41(1,"mat-icon"),t.EFF(2,"aspect_ratio"),t.k0s()()}}let P=class B{get styles(){return{"--cols":this.state.cols,"--rows":this.state.rows}}constructor(m,e){this.injector=m,this.changeDetector=e,this.stateChange=new t.bkB}ngOnInit(){this.state.isFilled=!1}onChangeState(){const{cols:m,rows:e}=this.state;this.state.cells||(this.state.cells=[]);const r=this.state.cells.length,c=m*e;if(r<c)for(let h=r;h<c;h++)this.state.cells.push({value:"0"});else r>c&&(this.state.cells=this.state.cells.slice(0,c))}resize(m){this.state.cols=m.cols,this.state.rows=m.rows,this.changeDetector.ignore(this,()=>{this.state.isFilled=!0}).catch(console.error)}valueChange(){this.changeDetector.ignore(this,()=>{this.state.isFilled=!0}).catch(console.error)}trackBy(m){return m}static#t=this.\u0275fac=function(e){return new(e||B)(t.rXU(t.zZn),t.rXU(n.D))};static#e=this.\u0275cmp=t.VBU({type:B,selectors:[["wc-matrix"]],hostVars:2,hostBindings:function(e,r){2&e&&t.Aen(r.styles)},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:6,vars:4,consts:[["resizer",""],[1,"matrix"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-icon-button","","nz-tooltip","Redimensionner",3,"click",4,"ngIf"],[3,"resized"],[3,"stateChange","state"],["type","text","tabindex","1",3,"ngModelChange","ngClass","ngStyle","disabled","ngModel"],["mat-icon-button","","nz-tooltip","Redimensionner",3,"click"]],template:function(e,r){if(1&e){const c=t.RV6();t.j41(0,"div",1),t.DNE(1,E,4,10,"ng-container",2),t.k0s(),t.DNE(2,g,3,0,"button",3),t.j41(3,"wc-matrix-resizer",4,0),t.bIt("resized",function($){return t.eBV(c),t.Njj(r.resize($))}),t.k0s(),t.j41(5,"wc-base",5),t.mxI("stateChange",function($){return t.eBV(c),t.DH7(r.state,$)||(r.state=$),t.Njj($)}),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngForOf",r.state.cells)("ngForTrackBy",r.trackBy),t.R7$(),t.Y8G("ngIf",r.state.resizable),t.R7$(3),t.R50("state",r.state))},dependencies:[s.YU,s.Sq,s.bT,s.B3,v.$,a.me,a.BC,a.vS,x.An,l.LH,u.iY,w,i.S],styles:['[_nghost-%COMP%]{--cols: 3;--rows: 3;--row-size: 2em;--col-size: 4em;--gap: .5em}.matrix[_ngcontent-%COMP%]{display:grid;height:calc(var(--row-size) * var(--rows) + var(--gap) * var(--rows) + .2rem);width:calc(var(--col-size) * var(--cols) + var(--gap) * var(--cols) + .2rem);grid-template-rows:repeat(var(--rows),1fr);grid-template-columns:repeat(var(--cols),1fr);column-gap:var(--gap);row-gap:var(--gap);margin:1rem;vertical-align:middle;position:relative}.matrix[_ngcontent-%COMP%]:before, .matrix[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;bottom:-6px;border:1px solid #000;width:6px}.matrix[_ngcontent-%COMP%]:before{left:-12px;border-right:0}.matrix[_ngcontent-%COMP%]:after{right:-12px;border-left:0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;position:relative;width:var(--col-size);height:var(--row-size);border:none;border-radius:4px;text-align:center;border:1px solid #f0f0f0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:none}'],changeDetection:0})};P=(0,C.Cg)([(0,y.Er)(_.Q),(0,C.Sn)("design:paramtypes",[t.zZn,n.D])],P);let T=(()=>{class d{constructor(){this.component=P}static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275mod=t.$C({type:d});static#n=this.\u0275inj=t.G2t({imports:[p.W,i.a,a.YN,f.z_,x.m_,l.Qt,u.Hl]})}return d})()},9205:(z,b,o)=>{o.d(b,{$:()=>C});var a=o(7788),f=o(6359),u=o(5293),x=o(6610),p=o(2919);const l=["container"];function i(t,y){if(1&t&&(a.qex(0),a.nrm(1,"nge-monaco-viewer",1),a.nI1(2,"json"),a.bVm()),2&t){const _=a.XpG();a.R7$(),a.Y8G("code",a.bMT(2,1,_.state))}}let C=(()=>{class t{constructor(_,n){this.api=_,this.elementRef=n,this.stateChange=new a.bkB}ngOnInit(){const _=this.elementRef.nativeElement;_.parentElement?.setAttribute("id",(0,u.A)());const n=_.parentElement?.tagName.toLowerCase();this.definition=this.api.findBySelector(n||""),this.observer=new MutationObserver(s=>{s.forEach(this.onChangeAttributes.bind(this,!1))}),this.observer.observe(_.parentElement,{attributes:!0}),this.onChangeAttributes(!0)}ngOnDestroy(){this.observer?.disconnect()}parseValue(_){return _.trim().match(/^(true$|false$|\d+$|\[|\{)/)?JSON.parse(_):_}onChangeAttributes(_){const v=Array.from(this.elementRef.nativeElement.parentElement.attributes),M=v.find(g=>"cid"===g.name);if(M){const g=sessionStorage.getItem("component-"+M.value);if(g)return void this.stateChange.emit(this.parseValue(g))}const O=v.find(g=>"data-script-id"===g.name);if(O){const g=document.querySelector(`script[id="${O.value}"]`);return void(g&&this.stateChange.emit(this.parseValue(g.textContent||"{}")))}if(v.find(g=>"state"===g.name)&&_)return;const D={},w=this.definition?.schema?.properties||{};let E=!1;for(const g of v)if(g.name in w){E=!0;try{D[g.name]=this.parseValue(g.value)}catch{console.warn(`Invalid value "${g.value}" for ${g.name} attribute`)}}E&&this.stateChange.emit(D)}static#t=this.\u0275fac=function(n){return new(n||t)(a.rXU(f.h),a.rXU(a.aKT))};static#e=this.\u0275cmp=a.VBU({type:t,selectors:[["wc-base"]],viewQuery:function(n,s){if(1&n&&a.GBs(l,5),2&n){let v;a.mGM(v=a.lsd())&&(s.container=v.first)}},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(n,s){1&n&&a.DNE(0,i,3,3,"ng-container",0),2&n&&a.Y8G("ngIf",null==s.state?null:s.state.debug)},dependencies:[x.bT,p.x1,x.TG],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]})}return t})()},1016:(z,b,o)=>{o.d(b,{W:()=>x});var a=o(6610),f=o(2919),u=o(7788);let x=(()=>{class p{static#t=this.\u0275fac=function(C){return new(C||p)};static#e=this.\u0275mod=u.$C({type:p});static#n=this.\u0275inj=u.G2t({imports:[a.MD,f.OZ,a.MD]})}return p})()},6223:(z,b,o)=>{o.d(b,{D:()=>x});var a=o(6394),f=o(7788),u=o(5689);let x=(()=>{class p{batch(i,C){const t=i.$__suspendChanges__$;i.$__suspendChanges__$=!0,C(),i.onChangeState&&i.onChangeState(),i.$__changeDetector__$||(i.$__changeDetector__$=i.injector.get(f.gRc)),i.$__changeDetector__$.detectChanges(),i.$__suspendChanges__$=t}ignore(i,C){return(0,a.A)(function*(){const t=i.$__suspendChanges__$;i.$__suspendChanges__$=!0;const y=yield C();return i.$__changeDetector__$||(i.$__changeDetector__$=i.injector.get(f.gRc)),i.$__changeDetector__$.detectChanges(),i.$__suspendChanges__$=t,y})()}changes(i){if(!i.$__stateCopy__$)return i.$__stateCopy__$=(0,u.A4)(i.$__state__$),[];const C=[];return new Set(Object.keys(i.$__state__$).concat(Object.keys(i.$__stateCopy__$))).forEach(y=>{(0,u.bD)(i.$__state__$[y],i.$__stateCopy__$[y])||C.push(y)}),i.$__stateCopy__$=(0,u.A4)(i.$__state__$),C}static#t=this.\u0275fac=function(C){return new(C||p)};static#e=this.\u0275prov=f.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},5293:(z,b,o)=>{o.d(b,{A:()=>_});const f={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const x=new Uint8Array(16);function p(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(x)}const l=[];for(let n=0;n<256;++n)l.push((n+256).toString(16).slice(1));const _=function y(n,s,v){if(f.randomUUID&&!s&&!n)return f.randomUUID();const M=(n=n||{}).random||(n.rng||p)();if(M[6]=15&M[6]|64,M[8]=63&M[8]|128,s){v=v||0;for(let O=0;O<16;++O)s[v+O]=M[O];return s}return function i(n,s=0){return l[n[s+0]]+l[n[s+1]]+l[n[s+2]]+l[n[s+3]]+"-"+l[n[s+4]]+l[n[s+5]]+"-"+l[n[s+6]]+l[n[s+7]]+"-"+l[n[s+8]]+l[n[s+9]]+"-"+l[n[s+10]]+l[n[s+11]]+l[n[s+12]]+l[n[s+13]]+l[n[s+14]]+l[n[s+15]]}(M)}}}]);