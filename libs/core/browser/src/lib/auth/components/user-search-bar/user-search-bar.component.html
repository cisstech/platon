<div>
  <ui-search-bar [searchbar]="searchbar" [disabled]="disabled">
    <ng-template let-item>
      <user-avatar
        [user]="isUser(item) ? item : undefined"
        [group]="!isUser(item) ? item : undefined" />
    </ng-template>
  </ui-search-bar>
  <ng-content></ng-content>
</div>

<ui-list *ngIf="!autoSelect" [items]="selection" [idField]="'id'">
  <ui-list-template slot="row">
    <ng-template let-item="item">
      <div class="selection-item">
        <user-avatar
          [user]="isUser(item) ? item : undefined"
          [group]="!isUser(item) ? item : undefined" />
        <div class="spacer"></div>
        <button [disabled]="disabled" nz-button nzDanger nzType="primary" nzShape="circle" (click)="remove(item)">
          <i nz-icon nzType="delete" nzTheme="outline"></i>
        </button>
      </div>
    </ng-template>
  </ui-list-template>
</ui-list>
