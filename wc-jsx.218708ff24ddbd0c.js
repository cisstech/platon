"use strict";(self.webpackChunkhome=self.webpackChunkhome||[]).push([[957],{1164:(D,C,n)=>{n.r(C),n.d(C,{JsxModule:()=>s});var r,i=n(1016),m=n(6394),u=n(7270),o=n(7788),_=n(5566),d=n(5804),e=n(5966),l=n(6223),g=n(9241),y=n(9205);let t=class ${static#t=r=this;static#e=this.NEXT_ID=0;constructor(a,p,f){this.injector=a,this.resourceLoader=p,this.changeDetector=f,this.boardId="jsx_graph"+ ++r.NEXT_ID,this.stateChange=new o.bkB}ngOnInit(){var a=this;return(0,m.A)(function*(){yield(0,d._)(a.resourceLoader.loadAllSync([["script","assets/vendors/jsxgraph/jsxgraphcore.js"],["style","assets/vendors/jsxgraph/jsxgraph.css"]])),JXG.Options=JXG.merge(JXG.Options,{board:{showCopyright:!1,keepAspectRatio:!0},elements:{highlight:!1,showInfobox:!1},point:{showInfobox:!1}}),a.createBoard()})()}ngOnDestroy(){this.destroyBoard()}onChangeState(){const a=this.changeDetector.changes(this);(a.includes("script")||a.includes("attributes"))&&this.createBoard(),a.includes("points")&&this.writePoints(),this.state.disabled?this.board.removeEventHandlers():this.board.hasPointerHandlers||this.board.addEventHandlers()}createBoard(){this.destroyBoard(),this.board=JXG.JSXGraph.initBoard(this.boardId,{axis:!0,...this.state.attributes||{}}),this.board.on("update",()=>{this.changeDetector.batch(this,()=>{this.readPoints()})});const a=decodeURIComponent(this.state.script);new Function("board",a)(this.board),this.readPoints()}destroyBoard(){this.board&&JXG.JSXGraph.freeBoard(this.board)}readPoints(){if(this.state.points={},this.board.objectsList)for(const a of this.board.objectsList)JXG.isPoint(a)&&a.name&&(this.state.points[a.name]={x:a.X(),y:a.Y()})}writePoints(){let a=!1;const p=Object.keys(this.state.points);for(const f of p){const b=this.board.objectsList.find(c=>JXG.isPoint(c)&&c.name===f);if(b){const c=this.state.points[f];b.setPosition(JXG.COORDS_BY_USER,[c.x,c.y]),a=!0}}a&&this.board.fullUpdate()}static#s=this.\u0275fac=function(p){return new(p||$)(o.rXU(o.zZn),o.rXU(_.xU),o.rXU(l.D))};static#n=this.\u0275cmp=o.VBU({type:$,selectors:[["wc-jsx"]],inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:2,vars:2,consts:[[1,"jsxgraph-component",3,"id"],[3,"stateChange","state"]],template:function(p,f){1&p&&(o.nrm(0,"div",0),o.j41(1,"wc-base",1),o.mxI("stateChange",function(c){return o.DH7(f.state,c)||(f.state=c),c}),o.k0s()),2&p&&(o.Y8G("id",f.boardId),o.R7$(),o.R50("state",f.state))},dependencies:[y.$],styles:[".jsxgraph-component[_ngcontent-%COMP%]{max-width:400px;width:90vw;max-height:400px;height:90vw;margin:0 auto}"],changeDetection:0})};t=r=(0,u.Cg)([(0,e.Er)(g.M),(0,u.Sn)("design:paramtypes",[o.zZn,_.xU,l.D])],t);let s=(()=>{class h{constructor(){this.component=t}static#t=this.\u0275fac=function(p){return new(p||h)};static#e=this.\u0275mod=o.$C({type:h});static#s=this.\u0275inj=o.G2t({imports:[i.W]})}return h})()},9205:(D,C,n)=>{n.d(C,{$:()=>l});var i=n(7788),m=n(6359),u=n(5293),o=n(6610),_=n(2919);const d=["container"];function e(g,y){if(1&g&&(i.qex(0),i.nrm(1,"nge-monaco-viewer",1),i.nI1(2,"json"),i.bVm()),2&g){const r=i.XpG();i.R7$(),i.Y8G("code",i.bMT(2,1,r.state))}}let l=(()=>{class g{constructor(r,t){this.api=r,this.elementRef=t,this.stateChange=new i.bkB}ngOnInit(){const r=this.elementRef.nativeElement;r.parentElement?.setAttribute("id",(0,u.A)());const t=r.parentElement?.tagName.toLowerCase();this.definition=this.api.findBySelector(t||""),this.observer=new MutationObserver(s=>{s.forEach(this.onChangeAttributes.bind(this,!1))}),this.observer.observe(r.parentElement,{attributes:!0}),this.onChangeAttributes(!0)}ngOnDestroy(){this.observer?.disconnect()}parseValue(r){return r.trim().match(/^(true$|false$|\d+$|\[|\{)/)?JSON.parse(r):r}onChangeAttributes(r){const h=Array.from(this.elementRef.nativeElement.parentElement.attributes),v=h.find(c=>"data-script-id"===c.name);if(v){const c=document.querySelector(`script[id="${v.value}"]`);return void(c&&this.stateChange.emit(this.parseValue(c.textContent||"{}")))}if(h.find(c=>"state"===c.name)&&r)return;const p={},f=this.definition?.schema?.properties||{};let b=!1;for(const c of h)if(c.name in f){b=!0;try{p[c.name]=this.parseValue(c.value)}catch{console.warn(`Invalid value "${c.value}" for ${c.name} attribute`)}}b&&this.stateChange.emit(p)}static#t=this.\u0275fac=function(t){return new(t||g)(i.rXU(m.h),i.rXU(i.aKT))};static#e=this.\u0275cmp=i.VBU({type:g,selectors:[["wc-base"]],viewQuery:function(t,s){if(1&t&&i.GBs(d,5),2&t){let h;i.mGM(h=i.lsd())&&(s.container=h.first)}},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(t,s){1&t&&i.DNE(0,e,3,3,"ng-container",0),2&t&&i.Y8G("ngIf",null==s.state?null:s.state.debug)},dependencies:[o.bT,_.x1,o.TG],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]})}return g})()},1016:(D,C,n)=>{n.d(C,{W:()=>o});var i=n(6610),m=n(2919),u=n(7788);let o=(()=>{class _{static#t=this.\u0275fac=function(l){return new(l||_)};static#e=this.\u0275mod=u.$C({type:_});static#s=this.\u0275inj=u.G2t({imports:[i.MD,m.OZ,i.MD]})}return _})()},6223:(D,C,n)=>{n.d(C,{D:()=>o});var i=n(6394),m=n(7788),u=n(5689);let o=(()=>{class _{batch(e,l){const g=e.$__suspendChanges__$;e.$__suspendChanges__$=!0,l(),e.onChangeState&&e.onChangeState(),e.$__changeDetector__$||(e.$__changeDetector__$=e.injector.get(m.gRc)),e.$__changeDetector__$.detectChanges(),e.$__suspendChanges__$=g}ignore(e,l){return(0,i.A)(function*(){const g=e.$__suspendChanges__$;e.$__suspendChanges__$=!0;const y=yield l();return e.$__changeDetector__$||(e.$__changeDetector__$=e.injector.get(m.gRc)),e.$__changeDetector__$.detectChanges(),e.$__suspendChanges__$=g,y})()}changes(e){if(!e.$__stateCopy__$)return e.$__stateCopy__$=(0,u.A4)(e.$__state__$),[];const l=[];return new Set(Object.keys(e.$__state__$).concat(Object.keys(e.$__stateCopy__$))).forEach(y=>{(0,u.bD)(e.$__state__$[y],e.$__stateCopy__$[y])||l.push(y)}),e.$__stateCopy__$=(0,u.A4)(e.$__state__$),l}static#t=this.\u0275fac=function(l){return new(l||_)};static#e=this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},5293:(D,C,n)=>{n.d(C,{A:()=>r});const m={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const o=new Uint8Array(16);function _(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(o)}const d=[];for(let t=0;t<256;++t)d.push((t+256).toString(16).slice(1));const r=function y(t,s,h){if(m.randomUUID&&!s&&!t)return m.randomUUID();const v=(t=t||{}).random||(t.rng||_)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,s){h=h||0;for(let a=0;a<16;++a)s[h+a]=v[a];return s}return function e(t,s=0){return d[t[s+0]]+d[t[s+1]]+d[t[s+2]]+d[t[s+3]]+"-"+d[t[s+4]]+d[t[s+5]]+"-"+d[t[s+6]]+d[t[s+7]]+"-"+d[t[s+8]]+d[t[s+9]]+"-"+d[t[s+10]]+d[t[s+11]]+d[t[s+12]]+d[t[s+13]]+d[t[s+14]]+d[t[s+15]]}(v)}}}]);